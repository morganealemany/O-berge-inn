<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}O'Berge'Inn!{% endblock %}</title>
        
        {% block stylesheets %}
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">        
        <link rel="stylesheet" href="{{ asset('assets/css/style.css') }}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
        {% endblock %}

    </head>

    {#Logo picture #}
    <header class="d-flex justify-content-between pb-5">

        <h1> 
            <a href="{{ path('home')}}"><img src="{{ asset('assets/images/logo1.png')}}" alt="logo o'berge'inn" class="logo"></a>
        </h1>

        <div class="dropdown">

        {% if app.user.username is defined %}

                {#User Icon with dropdown #}

                <button class="btn dropdown-toggle icon color-four fw-bold" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">  
                
                {# If the connected user has an image use it to generate thumbnail avatar #}
                {% if app.user.image %}
                    <img alt="icon" src="{{ asset('uploads/' ~ app.user.image)}}" class="rounded-circle" >
                {% else %} {# Else use the default user icon for thumbnail #}
                    <img alt="icon" src="{{ asset('assets/images/user-icon.png')}}">
                {% endif %}
                    {{ app.user.pseudo }}
                </button>

                    {#dropdown#}

                <ul class="dropdown-menu bg-one fw-bold" aria-labelledby="dropdownMenuButton1">
                    <li><a class="menu-item dropdown-item color-four fw-bold" href="{{ path('user_index')}}">Profil</a></li>
                    <li><a class="menu-item dropdown-item color-four fw-bold" href="{{ path('dashboard')}}">Tableau de bord</a></li>
                    <li><a class="menu-item dropdown-item color-four fw-bold" href="{{ path('event_index')}}">Evènements</a></li>
                    <li><a class="menu-item dropdown-item color-four fw-bold" href="{{ path('mailer')}}">Invitations</a></li>
                    <li><a class="menu-item dropdown-item color-four fw-bold" href="{{ path('survey_index')}}">Sondages</a></li>
                    {% if is_granted('ROLE_ADMIN') %}
    
                     <li><a class="menu-item dropdown-item color-four fw-bold" href="{{ path('backoffice_admin_index')}}">Admin</a></li> 
                    
                    {% endif %}
                    <li><a class="menu-item dropdown-item color-four fw-bold" href="{{ path('app_logout')}}">Déconnexion</a></li>
                </ul>
        {% else %}
            <div class="d-flex align-self-start">

                <a href="{{ path('app_register') }}" class="btn d-sm-none d-lg-block button_inscription">Inscription</a> 
           
                <a href="{{ path('app_login') }}" class="btn d-sm-none d-lg-block ms-4 me-3 button_connexion">Connexion</a>
            </div>
        {% endif %}

        </div>    

    </header>