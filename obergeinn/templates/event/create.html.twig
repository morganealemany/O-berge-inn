{% extends 'base.html.twig' %}
{% form_theme formView 'bootstrap_5_layout.html.twig' %}
{% block title %}Créer ton évenement{% endblock %}

{% block body %}
{# Do not forget to add a link in the dashboard in order to display the Event create page #}
  
<div class="d-flex flex-column align-items-center color-one ">
    <h1>Créer ton évènement</h1>

    {{ form_start(formView) }}
        {{ form_row(formView.title) }}
        {{ form_row(formView.adress) }}
        {{ form_row(formView.description) }}
        {{ form_row(formView.date) }}
        
        {# Use symfony proptotype and JS to dynamicaly add several need form #}
        <ul class="need" 
        data-index="{{ formView.need|length > 0 ? formView.need|last.vars.name + 1 : 0 }}" 
        data-prototype="{{ form_widget(formView.need.vars.prototype)|e('html_attr') }}">
        </ul>
        <button type="button" class="btn button_connexion add_item_link" data-collection-holder-class="need">Ajouter un besoin</button>

        <button type="submit" class="btn button_inscription">Valider</button>
        <div hidden>
        {{ form_row(formView.need) }}
        </div>
    {{ form_end(formView) }}
    
</div>
{% endblock %}

